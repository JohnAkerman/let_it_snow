!function(e){var t={speed:0,interaction:true,size:2,count:200,opacity:0,color:"#ffffff",windPower:0};e.fn.let_it_snow=function(n){function c(){u.clearRect(0,0,o.width,o.height);for(var e=0;e<a;e++){var t=s[e],n=f,i=l,p=100,d=t.x,v=t.y;var m=Math.sqrt((d-n)*(d-n)+(v-i)*(v-i)),g=d-n,y=v-i;if(m<p){var b=p/(m*m),w=(n-d)/m,E=(i-v)/m,S=b/2;t.velX-=S*w;t.velY-=S*E}else{t.velX*=.98;if(t.velY<=t.speed){t.velY=t.speed}switch(r.windPower){case false:t.velX+=Math.cos(t.step+=.05)*t.stepSize;break;case 0:t.velX+=Math.cos(t.step+=.05)*t.stepSize;break;default:t.velX+=.01+r.windPower/100}}var x=r.color;var T=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/;var N=T.exec(x);var C=parseInt(N[1],16)+","+parseInt(N[2],16)+","+parseInt(N[3],16);u.fillStyle="rgba("+C+","+t.opacity+")";t.y+=t.velY;t.x+=t.velX;if(t.y>=o.height||t.y<=0){h(t)}if(t.x>=o.width||t.x<=0){h(t)}u.beginPath();u.arc(t.x,t.y,t.size,0,Math.PI*2);u.fill()}requestAnimationFrame(c)}function h(e){if(r.windPower==false||r.windPower==0){e.x=Math.floor(Math.random()*o.width);e.y=0}else{if(r.windPower>0){var t=Array(Math.floor(Math.random()*o.width),0);var n=Array(0,Math.floor(Math.random()*o.height));var i=Array(t,n);var s=i[Math.floor(Math.random()*i.length)];e.x=s[0];e.y=s[1]}else{var t=Array(Math.floor(Math.random()*o.width),0);var n=Array(o.width,Math.floor(Math.random()*o.height));var i=Array(t,n);var s=i[Math.floor(Math.random()*i.length)];e.x=s[0];e.y=s[1]}}e.size=Math.random()*3+r.size;e.speed=Math.random()*1+r.speed;e.velY=e.speed;e.velX=0;e.opacity=Math.random()*.5+r.opacity}function p(){for(var e=0;e<a;e++){var t=Math.floor(Math.random()*o.width),n=Math.floor(Math.random()*o.height),i=Math.random()*3+r.size,u=Math.random()*1+r.speed,f=Math.random()*.5+r.opacity;s.push({speed:u,velY:u,velX:0,x:t,y:n,size:i,stepSize:Math.random()/30,step:0,angle:180,opacity:f})}c()}var r=e.extend({},t,n),i=e(this),s=[],o=i.get(0),u=o.getContext("2d"),a=r.count,f=-100,l=-100;o.width=window.innerWidth;o.height=window.innerHeight;p();e(window).resize(function(){if(this.resizeTO)clearTimeout(this.resizeTO);this.resizeTO=setTimeout(function(){el2=i.clone();el2.insertAfter(i);i.remove();el2.let_it_snow(r)},200)});if(r.interaction==true){o.addEventListener("mousemove",function(e){f=e.clientX,l=e.clientY})}}}(window.jQuery)